<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>So s√°nh Fetch vs Axios + Async/Await</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .comparison { display: flex; gap: 20px; margin: 20px 0; }
        .method { flex: 1; padding: 20px; border: 2px solid #ddd; border-radius: 8px; }
        .old-method { border-color: #ff6b6b; background: #ffeaea; }
        .new-method { border-color: #4ecdc4; background: #e8f8f7; }
        .code-block { background: #f4f4f4; padding: 15px; border-radius: 4px; font-family: 'Courier New', monospace; margin: 10px 0; }
        .highlight { background: #fff3cd; padding: 2px 4px; border-radius: 2px; }
        .benefit { background: #d4edda; border: 1px solid #c3e6cb; padding: 10px; margin: 10px 0; border-radius: 4px; }
        .problem { background: #f8d7da; border: 1px solid #f5c6cb; padding: 10px; margin: 10px 0; border-radius: 4px; }
        h2 { color: #333; border-bottom: 2px solid #ddd; padding-bottom: 10px; }
        h3 { color: #555; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>üîç So s√°nh Fetch/.then vs Axios + Async/Await</h1>

    <div class="comparison">
        <div class="method old-method">
            <h2>‚ùå Code c≈©: Fetch + .then()</h2>

            <h3>1. GET request:</h3>
            <div class="code-block">
fetch("https://jsonplaceholder.typicode.com/users")<br>
  .then(res => res.json())<br>
  .then(data => { setUsers(data); setLoading(false); });
            </div>

            <h3>2. POST request:</h3>
            <div class="code-block">
fetch('https://jsonplaceholder.typicode.com/users', {<br>
  method: 'POST',<br>
  headers: { 'Content-Type': 'application/json' },<br>
  body: JSON.stringify(user)<br>
})<br>
.then(res => res.json())<br>
.then(data => { /* handle response */ });
            </div>

            <div class="problem">
                <strong>‚ùå V·∫•n ƒë·ªÅ:</strong>
                <ul>
                    <li>Callback hell khi nhi·ªÅu request</li>
                    <li>Ph·∫£i t·ª± parse JSON th·ªß c√¥ng</li>
                    <li>Error handling ph·ª©c t·∫°p</li>
                    <li>Code kh√≥ ƒë·ªçc, kh√≥ maintain</li>
                    <li>Kh√¥ng c√≥ timeout m·∫∑c ƒë·ªãnh</li>
                </ul>
            </div>
        </div>

        <div class="method new-method">
            <h2>‚úÖ Code m·ªõi: Axios + Async/Await</h2>

            <h3>1. GET request:</h3>
            <div class="code-block">
try {<br>
  <span class="highlight">const response = await axios.get('https://jsonplaceholder.typicode.com/users');</span><br>
  setUsers(response.data);<br>
  setLoading(false);<br>
} catch (error) {<br>
  alert(`L·ªói: ${error.message}`);<br>
}
            </div>

            <h3>2. POST request:</h3>
            <div class="code-block">
try {<br>
  <span class="highlight">const response = await axios.post('https://jsonplaceholder.typicode.com/users', user);</span><br>
  const newUser = response.data;<br>
  // Update UI manually<br>
} catch (error) {<br>
  alert(`L·ªói: ${error.message}`);<br>
}
            </div>

            <div class="benefit">
                <strong>‚úÖ L·ª£i √≠ch:</strong>
                <ul>
                    <li>Code ƒë·ªìng b·ªô, d·ªÖ ƒë·ªçc nh∆∞ code th√¥ng th∆∞·ªùng</li>
                    <li>T·ª± ƒë·ªông parse JSON (response.data)</li>
                    <li>Error handling ƒë∆°n gi·∫£n v·ªõi try/catch</li>
                    <li>Kh√¥ng callback hell</li>
                    <li>H·ªó tr·ª£ timeout, interceptors, etc.</li>
                </ul>
            </div>
        </div>
    </div>

    <h2>üéØ √ù nghƒ©a b√†i t·∫≠p c·ªßa th·∫ßy:</h2>

    <div style="background: #e7f3ff; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h3>1. H·ªçc Async/Await (ES7+)</h3>
        <p>Thay v√¨ d√πng Promise/.then() (callback-based), h·ªçc c√°ch vi·∫øt code b·∫•t ƒë·ªìng b·ªô nh∆∞ code ƒë·ªìng b·ªô</p>

        <h3>2. H·ªçc Axios thay v√¨ Fetch</h3>
        <p>Axios l√† HTTP client ph·ªï bi·∫øn h∆°n fetch, c√≥ nhi·ªÅu t√≠nh nƒÉng built-in</p>

        <h3>3. Error Handling t·ªët h∆°n</h3>
        <p>D√πng try/catch thay v√¨ .catch() - d·ªÖ ƒë·ªçc v√† maintain h∆°n</p>

        <h3>4. Manual UI Updates</h3>
        <p>Hi·ªÉu c√°ch React state ho·∫°t ƒë·ªông - kh√¥ng d·ª±a v√†o API response ƒë·ªÉ update UI</p>

        <h3>5. Modern JavaScript Practices</h3>
        <p>Chu·∫©n b·ªã cho vi·ªác l√†m th·ª±c t·∫ø v·ªõi c√°c best practices hi·ªán ƒë·∫°i</p>
    </div>

    <h2>üìä So s√°nh chi ti·∫øt:</h2>

    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <thead>
            <tr style="background: #f8f9fa;">
                <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">T√≠nh nƒÉng</th>
                <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Fetch + .then</th>
                <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">Axios + Async/Await</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px;"><strong>ƒê·ªçc code</strong></td>
                <td style="border: 1px solid #ddd; padding: 8px;">Kh√≥ (callback chain)</td>
                <td style="border: 1px solid #ddd; padding: 8px;">D·ªÖ (nh∆∞ code ƒë·ªìng b·ªô)</td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px;"><strong>Parse JSON</strong></td>
                <td style="border: 1px solid #ddd; padding: 8px;">Th·ªß c√¥ng (.json())</td>
                <td style="border: 1px solid #ddd; padding: 8px;">T·ª± ƒë·ªông (response.data)</td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px;"><strong>Error handling</strong></td>
                <td style="border: 1px solid #ddd; padding: 8px;">.catch() ph·ª©c t·∫°p</td>
                <td style="border: 1px solid #ddd; padding: 8px;">try/catch ƒë∆°n gi·∫£n</td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px;"><strong>Timeout</strong></td>
                <td style="border: 1px solid #ddd; padding: 8px;">Kh√¥ng c√≥ m·∫∑c ƒë·ªãnh</td>
                <td style="border: 1px solid #ddd; padding: 8px;">C√≥ th·ªÉ set timeout</td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px;"><strong>Request/Response interceptors</strong></td>
                <td style="border: 1px solid #ddd; padding: 8px;">Kh√¥ng c√≥</td>
                <td style="border: 1px solid #ddd; padding: 8px;">C√≥ s·∫µn</td>
            </tr>
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px;"><strong>Browser support</strong></td>
                <td style="border: 1px solid #ddd; padding: 8px;">Modern browsers</td>
                <td style="border: 1px solid #ddd; padding: 8px;">C·∫ßn polyfill cho IE</td>
            </tr>
        </tbody>
    </table>

    <h2>üöÄ T·∫°i sao Async/Await + Axios t·ªët h∆°n?</h2>

    <div style="background: #f0f8ff; padding: 15px; border-radius: 8px; margin: 20px 0;">
        <p><strong>1. Code d·ªÖ ƒë·ªçc h∆°n:</strong> Kh√¥ng c√≤n callback pyramid, code ch·∫°y t·ª´ tr√™n xu·ªëng d∆∞·ªõi nh∆∞ code th√¥ng th∆∞·ªùng</p>

        <p><strong>2. Error handling t·ªët h∆°n:</strong> try/catch bao quanh to√†n b·ªô logic, kh√¥ng c·∫ßn .catch() ri√™ng l·∫ª</p>

        <p><strong>3. Debug d·ªÖ h∆°n:</strong> C√≥ th·ªÉ ƒë·∫∑t breakpoint trong async function nh∆∞ code ƒë·ªìng b·ªô</p>

        <p><strong>4. Maintainability:</strong> Code d·ªÖ s·ª≠a ƒë·ªïi, th√™m logic m·ªõi m√† kh√¥ng l√†m r·ªëi callback chain</p>

        <p><strong>5. Modern JavaScript:</strong> ƒê√¢y l√† standard hi·ªán ƒë·∫°i, ƒë∆∞·ª£c d√πng trong h·∫ßu h·∫øt c√°c d·ª± √°n React/Vue/Angular</p>
    </div>

    <h2>üí° B√†i h·ªçc t·ª´ b√†i t·∫≠p:</h2>
    <ul>
        <li><strong>H·ªçc c√°ch migrate t·ª´ callback sang async/await</strong> - k·ªπ nƒÉng quan tr·ªçng trong c√¥ng vi·ªác</li>
        <li><strong>Hi·ªÉu s·ª± kh√°c bi·ªát gi·ªØa fetch v√† axios</strong> - bi·∫øt ch·ªçn tool ph√π h·ª£p</li>
        <li><strong>Th·ª±c h√†nh error handling</strong> - ·ª©ng d·ª•ng th·ª±c t·∫ø lu√¥n c·∫ßn handle l·ªói</li>
        <li><strong>Manual state management</strong> - hi·ªÉu c√°ch React state ho·∫°t ƒë·ªông</li>
        <li><strong>Modern JavaScript patterns</strong> - chu·∫©n b·ªã cho m√¥i tr∆∞·ªùng l√†m vi·ªác th·ª±c t·∫ø</li>
    </ul>

</body>
</html>